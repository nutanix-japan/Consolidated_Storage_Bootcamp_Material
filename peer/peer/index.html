
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Lakshmi Balaramane">
      
      
        <link rel="canonical" href="https://github.com/nutanix-japan/Consolidated_Storage_Bootcamp_Material/peer/peer/">
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.10">
    
    
      
        <title>Peer Global File Service {#peer} - Consolidated Storage on Nutanix</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e359304.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      
  
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
  
  <style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"/></svg>');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.5 1.75v11.5c0 .138.112.25.25.25h3.17a.75.75 0 0 1 0 1.5H2.75A1.75 1.75 0 0 1 1 13.25V1.75C1 .784 1.784 0 2.75 0h8.5C12.216 0 13 .784 13 1.75v7.736a.75.75 0 0 1-1.5 0V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25Zm13.274 9.537v-.001l-4.557 4.45a.75.75 0 0 1-1.055-.008l-1.943-1.95a.75.75 0 0 1 1.062-1.058l1.419 1.425 4.026-3.932a.75.75 0 1 1 1.048 1.074ZM4.75 4h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM4 7.75A.75.75 0 0 1 4.75 7h2a.75.75 0 0 1 0 1.5h-2A.75.75 0 0 1 4 7.75Z"/></svg>');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"/></svg>');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M3.499.75a.75.75 0 0 1 1.5 0v.996C5.9 2.903 6.793 3.65 7.662 4.376l.24.202c-.036-.694.055-1.422.426-2.163C9.1.873 10.794-.045 12.622.26 14.408.558 16 1.94 16 4.25c0 1.278-.954 2.575-2.44 2.734l.146.508.065.22c.203.701.412 1.455.476 2.226.142 1.707-.4 3.03-1.487 3.898C11.714 14.671 10.27 15 8.75 15h-6a.75.75 0 0 1 0-1.5h1.376a4.484 4.484 0 0 1-.563-1.191 3.835 3.835 0 0 1-.05-2.063 4.647 4.647 0 0 1-2.025-.293.75.75 0 0 1 .525-1.406c1.357.507 2.376-.006 2.698-.318l.009-.01a.747.747 0 0 1 1.06 0 .748.748 0 0 1-.012 1.074c-.912.92-.992 1.835-.768 2.586.221.74.745 1.337 1.196 1.621H8.75c1.343 0 2.398-.296 3.074-.836.635-.507 1.036-1.31.928-2.602-.05-.603-.216-1.224-.422-1.93l-.064-.221c-.12-.407-.246-.84-.353-1.29a2.425 2.425 0 0 1-.507-.441 3.075 3.075 0 0 1-.633-1.248.75.75 0 0 1 1.455-.364c.046.185.144.436.31.627.146.168.353.305.712.305.738 0 1.25-.615 1.25-1.25 0-1.47-.95-2.315-2.123-2.51-1.172-.196-2.227.387-2.706 1.345-.46.92-.27 1.774.019 3.062l.042.19a.884.884 0 0 1 .01.05c.348.443.666.949.94 1.553a.75.75 0 1 1-1.365.62c-.553-1.217-1.32-1.94-2.3-2.768L6.7 5.527c-.814-.68-1.75-1.462-2.692-2.619a3.737 3.737 0 0 0-1.023.88c-.406.495-.663 1.036-.722 1.508.116.122.306.21.591.239.388.038.797-.06 1.032-.19a.75.75 0 0 1 .728 1.31c-.515.287-1.23.439-1.906.373-.682-.067-1.473-.38-1.879-1.193L.75 5.677V5.5c0-.984.48-1.94 1.077-2.664.46-.559 1.05-1.055 1.673-1.353V.75Z"/></svg>');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"/></svg>');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.92 6.085h.001a.749.749 0 1 1-1.342-.67c.169-.339.436-.701.849-.977C6.845 4.16 7.369 4 8 4a2.756 2.756 0 0 1 1.637.525c.503.377.863.965.863 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6.24 6.24 0 0 0-.26.16.952.952 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661.103-.067.207-.132.313-.195l.007-.004c.1-.061.182-.11.258-.161a.969.969 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.612.612 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1.01 1.01 0 0 0-.34.398ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/></svg>');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/></svg>');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.344 2.343h-.001a8 8 0 0 1 11.314 11.314A8.002 8.002 0 0 1 .234 10.089a8 8 0 0 1 2.11-7.746Zm1.06 10.253a6.5 6.5 0 1 0 9.108-9.275 6.5 6.5 0 0 0-9.108 9.275ZM6.03 4.97 8 6.94l1.97-1.97a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l1.97 1.97a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-1.97 1.97a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L6.94 8 4.97 6.03a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018Z"/></svg>');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M9.504.43a1.516 1.516 0 0 1 2.437 1.713L10.415 5.5h2.123c1.57 0 2.346 1.909 1.22 3.004l-7.34 7.142a1.249 1.249 0 0 1-.871.354h-.302a1.25 1.25 0 0 1-1.157-1.723L5.633 10.5H3.462c-1.57 0-2.346-1.909-1.22-3.004L9.503.429Zm1.047 1.074L3.286 8.571A.25.25 0 0 0 3.462 9H6.75a.75.75 0 0 1 .694 1.034l-1.713 4.188 6.982-6.793A.25.25 0 0 0 12.538 7H9.25a.75.75 0 0 1-.683-1.06l2.008-4.418.003-.006a.036.036 0 0 0-.004-.009l-.006-.006-.008-.001c-.003 0-.006.002-.009.004Z"/></svg>');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4.72.22a.75.75 0 0 1 1.06 0l1 .999a3.488 3.488 0 0 1 2.441 0l.999-1a.748.748 0 0 1 1.265.332.75.75 0 0 1-.205.729l-.775.776c.616.63.995 1.493.995 2.444v.327c0 .1-.009.197-.025.292.408.14.764.392 1.029.722l1.968-.787a.75.75 0 0 1 .556 1.392L13 7.258V9h2.25a.75.75 0 0 1 0 1.5H13v.5c0 .409-.049.806-.141 1.186l2.17.868a.75.75 0 0 1-.557 1.392l-2.184-.873A4.997 4.997 0 0 1 8 16a4.997 4.997 0 0 1-4.288-2.427l-2.183.873a.75.75 0 0 1-.558-1.392l2.17-.868A5.036 5.036 0 0 1 3 11v-.5H.75a.75.75 0 0 1 0-1.5H3V7.258L.971 6.446a.75.75 0 0 1 .558-1.392l1.967.787c.265-.33.62-.583 1.03-.722a1.677 1.677 0 0 1-.026-.292V4.5c0-.951.38-1.814.995-2.444L4.72 1.28a.75.75 0 0 1 0-1.06Zm.53 6.28a.75.75 0 0 0-.75.75V11a3.5 3.5 0 1 0 7 0V7.25a.75.75 0 0 0-.75-.75ZM6.173 5h3.654A.172.172 0 0 0 10 4.827V4.5a2 2 0 1 0-4 0v.327c0 .096.077.173.173.173Z"/></svg>');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5 5.782V2.5h-.25a.75.75 0 0 1 0-1.5h6.5a.75.75 0 0 1 0 1.5H11v3.282l3.666 5.76C15.619 13.04 14.543 15 12.767 15H3.233c-1.776 0-2.852-1.96-1.899-3.458Zm-2.4 6.565a.75.75 0 0 0 .633 1.153h9.534a.75.75 0 0 0 .633-1.153L12.225 10.5h-8.45ZM9.5 2.5h-3V6c0 .143-.04.283-.117.403L4.73 9h6.54L9.617 6.403A.746.746 0 0 1 9.5 6Z"/></svg>');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1.75 2.5h10.5a.75.75 0 0 1 0 1.5H1.75a.75.75 0 0 1 0-1.5Zm4 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5ZM2.5 7.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 1.5 0Z"/></svg>');}</style>



    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#peer-global-file-service-peer" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Consolidated Storage on Nutanix" class="md-header__button md-logo" aria-label="Consolidated Storage on Nutanix" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Consolidated Storage on Nutanix
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Peer Global File Service {#peer}
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/nutanix-japan/Consolidated_Storage_Bootcamp_Material" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    nutanix-japan/Consolidated_Storage_Bootcamp_Material
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Consolidated Storage on Nutanix" class="md-nav__button md-logo" aria-label="Consolidated Storage on Nutanix" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Consolidated Storage on Nutanix
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/nutanix-japan/Consolidated_Storage_Bootcamp_Material" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    nutanix-japan/Consolidated_Storage_Bootcamp_Material
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Initial NUS Deployment
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Initial NUS Deployment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../files_deploy/files_deploy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Files - Deploy Nutanix Files
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../objects_deploy/objects_deploy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Objects - Deploy Nutanix Objects
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rbac/rbac/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Files & Objects - RBAC on Files and Objects
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Start Consuming Storage Services
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Start Consuming Storage Services
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../files_smb_share/files_smb_share/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Files - Create SMB Share
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../volumes_deploy/volumes_deploy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Volumes - Deploy Nutanix Volumes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../objects_buckets_users_access_control/objects_buckets_users_access_control/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Objects - Buckets & Users Management
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Migrating from existing File Share
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Migrating from existing File Share
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../files_migrate/files_migrate_move/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Move - Share Migration
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Data Visibility & Intelligence (A) - Data Lens
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Data Visibility & Intelligence (A) - Data Lens
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../datalens_deploy/datalens_deploy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deploy Data Lens
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../datalens_anomaly/datalens_anomaly/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Anomaly Detection
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../datalens_ransomware/datalens_ransomware/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ransomware Protection
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../datalens_permission_monitoring/datalens_permission_monitoring/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Permission Monitoring
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Data Visibility & Intelligence (B) - File Analytics
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Data Visibility & Intelligence (B) - File Analytics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../file_analytics_deploy/file_analytics_deploy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enable File Analytics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../file_analytics_anomaly/file_analytics_anomaly/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Anomaly Detection
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../file_analytics_ransomware/file_analytics_ransomware/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ransonware Protection
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Data Protection and Lifecycle Management
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Data Protection and Lifecycle Management
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../files_replication/files_replication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Files - Replication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../files_tiering/files_tiering/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Files - Tiering
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../objects_replication/objects_replication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Objects - Replication
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Optional Labs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Optional Labs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../files_nfs_export/files_nfs_export/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Files - Create NFS Share
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../files_expand_cluster/files_expand_cluster/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Files - Expand Files Cluster (Not applicable to single node cluster)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../files_multiprotocol/files_multiprotocol/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Files - Enable Files Multiprotocol
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../objects_cli_scripts/objects_cli_scripts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Objects - Access Objects from CLI and Scripts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../objects_multi_cluster/objects_multi_cluster/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Objects - Multi-cluster
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lab-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Lab Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lab Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#files" class="md-nav__link">
    <span class="md-ellipsis">
      Files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#peer-vms" class="md-nav__link">
    <span class="md-ellipsis">
      Peer VMs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-nutanix-files" class="md-nav__link">
    <span class="md-ellipsis">
      Configuring Nutanix Files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#staging-test-data-on-peeragent-win" class="md-nav__link">
    <span class="md-ellipsis">
      Staging Test Data on PeerAgent-Win
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connecting-to-the-peer-management-center-web-interface" class="md-nav__link">
    <span class="md-ellipsis">
      Connecting to the Peer Management Center Web Interface
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction-to-peer-global-file-service" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction to Peer Global File Service
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-new-file-collaboration-job" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a New File Collaboration Job
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating a New File Collaboration Job">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#files-and-peeragent-files" class="md-nav__link">
    <span class="md-ellipsis">
      Files and PeerAgent-Files
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#peeragent-win" class="md-nav__link">
    <span class="md-ellipsis">
      PeerAgent-Win
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#completing-collaboration-job-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Completing Collaboration Job Configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#starting-a-collaboration-job" class="md-nav__link">
    <span class="md-ellipsis">
      Starting a Collaboration Job
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing-collaboration" class="md-nav__link">
    <span class="md-ellipsis">
      Testing Collaboration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working-with-nutanix-objects" class="md-nav__link">
    <span class="md-ellipsis">
      Working with Nutanix Objects
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Working with Nutanix Objects">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getting-client-ip-and-credentials-for-nutanix-objects" class="md-nav__link">
    <span class="md-ellipsis">
      Getting Client IP and Credentials for Nutanix Objects
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-new-cloud-replication-job" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a New Cloud Replication Job
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#starting-a-cloud-replication-job" class="md-nav__link">
    <span class="md-ellipsis">
      Starting a Cloud Replication Job
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verifying-replication" class="md-nav__link">
    <span class="md-ellipsis">
      Verifying Replication
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#analyzing-existing-environments" class="md-nav__link">
    <span class="md-ellipsis">
      Analyzing Existing Environments
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Analyzing Existing Environments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-and-running-the-file-system-analyzer" class="md-nav__link">
    <span class="md-ellipsis">
      Installing and Running the File System Analyzer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#summary-reports" class="md-nav__link">
    <span class="md-ellipsis">
      Summary Reports
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#volume-reports" class="md-nav__link">
    <span class="md-ellipsis">
      Volume Reports
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integrating-with-microsoft-dfs-namespace" class="md-nav__link">
    <span class="md-ellipsis">
      Integrating with Microsoft DFS Namespace
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#takeaways" class="md-nav__link">
    <span class="md-ellipsis">
      Takeaways
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="peer-global-file-service-peer">Peer Global File Service {#peer}</h1>
<p><em>The estimated time to complete this lab is 60 minutes.</em></p>
<p><strong>Google Chrome, Apple Safari, or Microsoft Edge is recommended for this
lab.</strong></p>
<h2 id="overview">Overview</h2>
<p>The explosive growth of unstructured data has driven organizations to
seek solutions to efficiently store, share, manage, and protect an
ever-growing universe of data while deriving new value and intelligence.
Since 1993, Peer Software has focused on these requirements and more by
building best-of-breed data management and real-time replication
solutions for distributed on-premises and cloud storage environments.</p>
<p>Peer's flagship offering, Peer Global File Service (PeerGFS), features
enterprise-class replication technology with integrated file locking and
a globally accessible namespace that powers multi-site, multi-vendor,
and multi-cloud deployment.</p>
<p>PeerGFS enables fast local data access for users and applications at
different locations, protects against version conflicts, makes data
highly available, and allows Nutanix Files to co-exist with legacy NAS
platforms to ease adoption of Files into existing environments.</p>
<p>Key use cases for combining Peer Software with Nutanix include:</p>
<ul>
<li><strong>Global File Sharing and Collaboration</strong> - Deliver fast local
    access to shared project files for distributed teams while ensuring
    version integrity and high availability.</li>
<li><strong>HA and Load Balancing for User and Application Data</strong> - Enable
    high availability and load balancing of end user data as well as
    application data.</li>
<li><strong>Storage Interoperability</strong> - Cross-platform support powers
    coexistence of Nutanix Files with existing NAS and hybrid cloud
    storage systems, as well as between file and object formats.</li>
<li><strong>Analysis and Migration</strong> - Analyze existing storage for resource
    planning, optimization, and migrations. Analysis combined with
    real-time replication powers minimally disruptive data migrations.</li>
</ul>
<p><em>How does it work?</em></p>
<p><img alt="" src="../images/integration.png" /></p>
<p>Working from left to right, users interact with the SMB shares on the
Nutanix Files cluster via a public LAN. When SMB activity occurs on the
Files cluster through these shares, the Peer Partner Server (referred to
as a Peer Agent) is notified via the File Activity Monitoring API from
Files. The Peer Agent accesses the updated content via SMB, and then
facilitates the flow of data to one or many remote and/or local file
servers.</p>
<p><strong>In this lab you will configure Peer Global File Service to create an
Active-Active file services solution with Nutanix Files, replicate
content from Nutanix Files to Nutanix Objects, and use our File System
Analyzer tool to analyze some sample data.</strong></p>
<h2 id="lab-setup">Lab Setup</h2>
<p>::: note
::: title
Note
:::</p>
<p>This lab requires the <code>windows_tools_vm</code>{.interpreted-text role="ref"}.
:::</p>
<h3 id="files">Files</h3>
<p>This lab requires an existing Nutanix Files deployment on your assigned
cluster. Details on how to configure Nutanix Files for use with Peer
Global File Service can be found in the <a href="#configuring-nutanix-files">Configuring Nutanix
Files</a> section below.</p>
<h3 id="peer-vms">Peer VMs</h3>
<p>In this exercise, you will be using three shared VMs, all of which
should already be available on your assigned cluster.</p>
<hr />
<p><strong>VM Name</strong>             <strong>Description</strong></p>
<hr />
<p><strong>PeerMgmt</strong>            This server is running the Peer Management
                          Center.</p>
<p><strong>PeerAgent-Files</strong>     This server will manage the Nutanix Files
                          cluster.</p>
<p><strong>PeerAgent-Win</strong>       This Windows File Server will be used as a
                          target for replication.</p>
<hr />
<h3 id="configuring-nutanix-files">Configuring Nutanix Files</h3>
<p>Peer Global File Service requires both a File Server Admin account as
well as REST API access to orchestrate replication to or from Nutanix
Files.</p>
<ol>
<li>
<p>Log in to <strong>Prism Element</strong> (e.g. 10.XX.YY.37) on your Nutanix
    cluster.</p>
</li>
<li>
<p>Navigate to <strong>File Server</strong> from the drop down navigation and select
    the <strong>BootcampFS</strong> deployment.</p>
</li>
<li>
<p>Click <strong>+ Share/Export</strong> and fill out the following fields:</p>
<ul>
<li><strong>Name</strong> - <em>Initials</em><strong>-Peer</strong></li>
<li><strong>Description (Optional)</strong> - Leave blank.</li>
<li><strong>File Server</strong> - <strong>BootcampFS</strong></li>
<li><strong>Share Path (Optional)</strong> - Leave blank.</li>
<li><strong>Max Size (Optional)</strong> - Leave blank.</li>
<li><strong>Select Protocol</strong> - SMB</li>
</ul>
<p><img alt="" src="../images/5.png" /></p>
</li>
<li>
<p>Click <strong>Next</strong>, <strong>Next</strong>, and then <strong>Create</strong>.</p>
</li>
<li>
<p>Click <strong>Manage roles</strong>.</p>
<p><img alt="" src="../images/6.png" /></p>
</li>
<li>
<p>Under <strong>Add admins</strong>, <strong>NTNXLAB\Administrator</strong> should already be
    added as a <strong>File Server Admin</strong>. If not, click <strong>+ New user</strong> and
    add <strong>NTNXLAB\Administrator</strong>.</p>
<p><img alt="" src="../images/7.png" /></p>
<p>::: note
::: title
Note
:::</p>
<p>In a production environment, you would likely use an Active
Directory service account for Peer.
:::</p>
</li>
<li>
<p>Under <strong>REST API access users</strong>, check to see if a <strong>peer</strong> account
    has already been created. If not, click <strong>+ Add new user</strong>, fill out
    the following fields, and click <strong>Save</strong>:</p>
<ul>
<li>
<p><strong>Username</strong> - peer</p>
<p><em>The username must be in all lower case.</em></p>
</li>
<li>
<p><strong>Password</strong> - nutanix/4u</p>
</li>
</ul>
<p><img alt="" src="../images/8.png" /></p>
<p>::: note
::: title
Note
:::</p>
<p>All participants on a single Nutanix AOS cluster will be sharing the
same <strong>BootcampFS</strong> file server, as well as the <strong>peer</strong> API
account.
:::</p>
</li>
<li>
<p>Click <strong>Close</strong>.</p>
</li>
</ol>
<h3 id="staging-test-data-on-peeragent-win">Staging Test Data on PeerAgent-Win</h3>
<p>The final step of staging the lab is creating some sample data on
PeerAgent-Win, which will be acting as a Windows File Server. Peer is
capable of replicating between multiple Files clusters, as well as
between a mix of Files and other NAS platforms. For this lab, you will
be replicating between your Nutanix Files cluster and a Windows File
Server.</p>
<ol>
<li>
<p>Connect to your <em>Initials</em><strong>-Windows-ToolsVM</strong> via RDP using the
    following credentials:</p>
<ul>
<li><strong>Username</strong> - NTNXLAB\Administrator</li>
<li><strong>Password</strong> - nutanix/4u</li>
</ul>
</li>
<li>
<p>Open <strong>File Explorer</strong> and navigate to <code>\\PeerAgent-Win\Data</code>.</p>
</li>
<li>
<p>Create a copy of the <strong>Sample Data</strong> folder. Rename the copy to
    <em>Initials</em><strong>-Data</strong> as shown below.</p>
<p><img alt="" src="../images/2.png" /></p>
</li>
</ol>
<h3 id="connecting-to-the-peer-management-center-web-interface">Connecting to the Peer Management Center Web Interface</h3>
<p>The Peer Management Center (PMC) serves as the centralized management
component for Peer Global File Service. It does not store any file data
but does facilitate communication between locations, so it should be
deployed at a location with the best connectivity. A single deployment
of PMC can manage 100 or more Agents/file servers.</p>
<p>For this lab, you will be accessing a shared PMC deployment via a web
interface.</p>
<ol>
<li>
<p>Open a non-Firefox browser (Chrome, Edge, and Safari will all work)
    on your <em>Initials</em><strong>-Windows-ToolsVM</strong> VM or on your laptop.</p>
</li>
<li>
<p>If you are using a browser on your <em>Initials</em><strong>-Windows-ToolsVM</strong>
    VM, browse to <a href="https://PeerMgmt:8443/hub">https://PeerMgmt:8443/hub</a></p>
</li>
<li>
<p>If you are using a browser on your laptop, log in to <strong>Prism
    Element</strong> (e.g. 10.XX.YY.37) on your Nutanix cluster to find the IP
    of the PeerMgmt VM, then browse to
    <a href="https://IP-of-PeerMgmt-Server:8443/hub">https://IP-of-PeerMgmt-Server:8443/hub</a></p>
</li>
<li>
<p>When prompted to login, use the following credentials:</p>
<ul>
<li><strong>Username</strong> - admin</li>
<li><strong>Password</strong> - nutanix/4u</li>
</ul>
</li>
<li>
<p>Once connected, confirm that <strong>PeerAgent-Files</strong> and
    <strong>PeerAgent-Win</strong> both appear in green in the <strong>Agents</strong> view in the
    bottom left of the PMC web interface.</p>
<p><img alt="" src="../images/pmc.png" /></p>
<p>::: note
::: title
Note
:::</p>
<p>If the two Agent servers are not appearing in the bottom left of the
PMC web interface, go into Prism and reboot the VMs named
<strong>PeerAgent-Files</strong> and <strong>PeerAgent-Win</strong>.
:::</p>
</li>
</ol>
<h2 id="introduction-to-peer-global-file-service">Introduction to Peer Global File Service</h2>
<p>Peer Global File Service utilizes a job-based configuration engine.
Several different job types are available to help tackle different file
management challenges. A job represents a combination of:</p>
<ul>
<li>Peer Agents.</li>
<li>The file servers that are being monitored by those Agents.</li>
<li>A specific share/volume/folder of data on each file server.</li>
<li>Various settings tied to replication, synchronization and/or
    locking.</li>
</ul>
<p>When creating a new job, you will be prompted by a dialog outlining the
different job types and why you would use each type.</p>
<p>Available job types include:</p>
<ul>
<li><strong>Cloud Backup and Replication</strong> - Real-time replication from
    enterprise NAS devices to public and private object storage with
    support for volume-wide point-in-time recovery. Each file is stored
    as a single, transparent object with optional version tracking.</li>
<li><strong>DFS-N Management</strong> - Manages new and existing Microsoft DFS
    Namespaces. Can be combined with File Collaboration and/or File
    Synchronization jobs to automate DFS failover and failback.</li>
<li><strong>File Collaboration</strong> - Real-time synchronization combined with
    distributed file locking to power global collaboration and project
    sharing across enterprise NAS platforms, locations, cloud
    infrastructures, and organizations.</li>
<li><strong>File Replication</strong> - One-way real-time replication from enterprise
    NAS platforms to any SMB destination.</li>
<li><strong>File Synchronization</strong> - Multi-directional real-time
    synchronization powering high availability of user and application
    data across enterprise NAS platforms, locations, cloud
    infrastructures, and organizations.</li>
</ul>
<h2 id="creating-a-new-file-collaboration-job">Creating a New File Collaboration Job</h2>
<p>In this section, we will focus on <strong>File Collaboration</strong>.</p>
<ol>
<li>
<p>In the <strong>PMC Web Interface</strong>, click <strong>File &gt; New Job</strong>.</p>
</li>
<li>
<p>Select <strong>File Collaboration</strong> and click <strong>Create</strong>.</p>
<p><img alt="" src="../images/17.png" /></p>
</li>
<li>
<p>Enter <em>Initials</em> - <strong>Collab</strong> as the name for the job and click
    <strong>OK</strong>.</p>
<p><img alt="" src="../images/18.png" /></p>
</li>
</ol>
<h3 id="files-and-peeragent-files">Files and PeerAgent-Files</h3>
<ol>
<li>
<p>Click <strong>Add</strong> to begin pairing a Peer Agent with your Nutanix Files
    cluster.</p>
<p><img alt="" src="../images/19.png" /></p>
</li>
<li>
<p>Select <strong>Nutanix Files</strong> and click <strong>Next</strong>.</p>
<p><img alt="" src="../images/20.png" /></p>
</li>
<li>
<p>Select the Agent named <strong>PeerAgent-Files</strong> and click <strong>Next</strong>. This
    Agent will manage the Files cluster.</p>
<p><img alt="" src="../images/21.png" /></p>
</li>
<li>
<p>On the <strong>Storage Information</strong> page, you are prompted to enter
    credentials for accessing the storage device. If another participant
    sharing your Files cluster has already done the Peer lab, you can
    select <strong>Existing Credentials</strong> as shown here.</p>
<p><img alt="" src="../images/22a.png" /></p>
<p>If you are the first participant on this cluster to do the Peer lab,
<strong>New Credentials</strong> will be automatically selected. Fill out the
following fields:</p>
<ul>
<li>
<p><strong>Nutanix Files Cluster Name</strong> - BootcampFS</p>
<p><em>The NETBIOS name of the Files cluster that will be paired with
the Agent selected in the previous step.</em></p>
</li>
<li>
<p><strong>Username</strong> - peer</p>
<p><em>This is the Files API account username configured earlier in
the lab and must be in all lower case.</em></p>
</li>
<li>
<p><strong>Password</strong> - nutanix/4u</p>
<p><em>The password associated with the Files API account.</em></p>
</li>
<li>
<p><strong>Peer Agent IP</strong> - <strong>PeerAgent-Files</strong> IP Address</p>
<p><em>The IP address of the Agent server that will receive real-time
notifications from the File Activity Monitoring API built into
Files. It is selectable from a drop-down list of available IPs
on this Agent server.</em></p>
</li>
</ul>
</li>
<li>
<p>Click <strong>Validate</strong> to confirm Files can be accessed via API using
    the provided credentials.</p>
<p><img alt="" src="../images/22.png" /></p>
<p>::: note
::: title
Note
:::</p>
<p>Once you enter these credentials, they are reusable when creating
new jobs that use this particular Agent. When you create your next
job, select <strong>Existing Credentials</strong> on this page to display a list
of previously configured credentials.
:::</p>
</li>
<li>
<p>Click <strong>Next</strong>.</p>
</li>
<li>
<p>Click <strong>Browse</strong> to select the share you wish to replicate. You can
    also navigate to a subfolder below a share.</p>
</li>
<li>
<p>Select your <em>Initials</em><strong>-Peer</strong> share and click <strong>OK</strong>.</p>
<p><img alt="" src="../images/23.png" /></p>
<p>::: note
::: title
Note
:::</p>
<p>Peer Global File Service supports the replication of data within
nested shares starting with Nutanix Files v3.5.1 and above.
:::</p>
<p>::: note
::: title
Note
:::</p>
<p>You can only select a single share or folder. You will need to
create an additional job for each additional share you wish to
replicate.
:::</p>
</li>
<li>
<p>Click <strong>Finish</strong>. You have now completed pairing <strong>PeerAgent-Files</strong>
    to Nutanix Files.</p>
<p><img alt="" src="../images/24.png" /></p>
</li>
</ol>
<h3 id="peeragent-win">PeerAgent-Win</h3>
<p>To simplify this lab exercise, a second Peer Agent server running on the
same cluster will function as a standard Windows File Server. While Peer
can be used to replicate shares between Nutanix Files clusters, one of
its key advantages is the ability to work with a mix of NAS platforms.
This can help drive adoption of Nutanix Files when only a single site
has been refreshed with Nutanix Files, but replication is still required
to support collaboration or disaster recovery.</p>
<ol>
<li>
<p>Repeat Steps 1-8 in <a href="#files-and-peeragent-files">Files and
    PeerAgent-Files</a> to add
    <strong>PeerAgent-Win</strong> to the job,
    <code>&lt;strong&gt;&lt;font color="red"&gt;making the following changes&lt;/font&gt;&lt;/strong&gt;</code>{=html}:</p>
<ul>
<li><strong>Storage Platform</strong> - Windows File Server</li>
<li><strong>Management Agent</strong> - PeerAgent-Win</li>
<li><strong>Path</strong> - C:\Data\<em>Initials</em><strong>-Data</strong></li>
</ul>
<p><img alt="" src="../images/25.png" /></p>
</li>
<li>
<p>Click <strong>Next</strong>.</p>
</li>
</ol>
<h3 id="completing-collaboration-job-configuration">Completing Collaboration Job Configuration</h3>
<p>Peer offers robust functionality for handling the synchronization of
NTFS permissions between shares:</p>
<ul>
<li>
<p><strong>Enable synchronizing NTFS security descriptors in real-time</strong></p>
<p><em>Select this checkbox if you want changes to file and folder
permissions to be replicated to the remote file servers as they
occur.</em></p>
</li>
<li>
<p><strong>Enable synchronizing NTFS security descriptors with master host
    during initial scan</strong></p>
<p><em>Select this if you want the initial scan to look for and replicate
any permissions that are not in sync across file servers. This
requires selecting a master host to help resolve situations where
the engine cannot pick a winner in a permission discrepancy.</em></p>
</li>
<li>
<p><strong>Synchronize Security Description Options</strong></p>
<p><em>(Optional) Select the NTFS permission types you would like to
replicate.</em></p>
<ul>
<li>
<p><strong>Owner</strong></p>
<p><em>The NTFS Creator-Owner who owns the object (which is, by
default, whoever created it).</em></p>
</li>
<li>
<p><strong>DACL</strong></p>
<p><em>A Discretionary Access Control List identifies the users and
groups that are assigned or denied access permissions on a file
or folder.</em></p>
</li>
<li>
<p><strong>SACL</strong></p>
<p><em>A System Access Control List enables administrators to log
attempts to access a secured file or folder. It is used for
auditing.</em></p>
</li>
</ul>
</li>
<li>
<p><strong>File Metadata Conflict Resolution</strong></p>
<p><em>If there is a permission discrepancy between two or more sites, the
permissions set on the file server tied to the master host will
override those on the other file servers.</em></p>
</li>
<li>
<p>For the purposes of this lab exercise, accept the default
    configuration and click <strong>Next</strong>.</p>
<p><img alt="" src="../images/26.png" /></p>
</li>
<li>
<p>Under <strong>Application Support</strong>, select <strong>Microsoft Office</strong>.</p>
<p>The Peer synchronization and locking engine is automatically
optimized to best support any of the selected applications.</p>
<p><img alt="" src="../images/27.png" /></p>
</li>
<li>
<p>Click <strong>Finish</strong> to complete the job setup.</p>
</li>
</ul>
<h2 id="starting-a-collaboration-job">Starting a Collaboration Job</h2>
<p>Once a job has been created, it must be started to initiate
synchronization and file locking.</p>
<ol>
<li>
<p>In the <strong>PMC Web Interface</strong>, under <strong>Jobs</strong>, right-click on your
    newly created job, and then select <strong>Start</strong>.</p>
<p><img alt="" src="../images/28.png" /></p>
<p>When the job starts:</p>
<ul>
<li>Connectivity to all Agents and Files clusters (or other NAS
    devices) is checked.</li>
<li>The real-time monitoring engine is initialized.</li>
<li>A background scan is kicked off to ensure all file servers are
    in sync with another.</li>
</ul>
</li>
<li>
<p>Double-click the job in the <strong>Job</strong> pane to view its runtime
    information and statistics.</p>
<p>::: note
::: title
Note
:::</p>
<p>Click <strong>Auto-Update</strong> to have the console regularly refresh as files
begin replicating.
:::</p>
<p><img alt="" src="../images/29.png" /></p>
</li>
</ol>
<h2 id="testing-collaboration">Testing Collaboration</h2>
<p>The easiest way to verify synchronization is functioning properly is to
open separate File Explorer windows for the Nutanix Files and Windows
File Server paths.</p>
<p>::: note
::: title
Note
:::</p>
<p>Do <strong>not</strong> test using an Agent server VM. All activity from these
servers are automatically filtered to reduce overhead on the Nutanix
Files cluster.
:::</p>
<ol>
<li>
<p>Connect to your <em>Initials</em><strong>-Windows-ToolsVM</strong> via RDP using the
    following credentials:</p>
<ul>
<li><strong>Username</strong> - NTNXLAB\Administrator</li>
<li><strong>Password</strong> - nutanix/4u</li>
</ul>
</li>
<li>
<p>Open File Explorer and browse to your Nutanix Files share, e.g.,
    <code>\\BootcampFS\Initials-Peer</code>. Drag this window to the left side of
    the desktop.</p>
<p>Note that the sample data seeded in the Windows File Server during
lab setup has already been replicated to Nutanix Files.</p>
<p>::: note
::: title
Note
:::</p>
<p>You can also verify the replicated files in <strong>Prism &gt; File
Server</strong>.
:::</p>
</li>
<li>
<p>Open a second File Explorer window and browse to your Windows File
    Server share, e.g., <code>\\PeerAgent-Win\Data\Initials-Data</code>. Drag this
    window to the right side of the desktop.</p>
<p><img alt="" src="../images/30.png" /></p>
</li>
<li>
<p>In the File Explorer on the left, create a copy of one of the sample
    data directories by copying and pasting within the root of the share
    (shown below).</p>
<p><img alt="" src="../images/31.png" /></p>
<p><img alt="" src="../images/32.png" /></p>
</li>
<li>
<p>The changes that are performed on the Nutanix Files share will be
    sent to its paired Agent; the Agent will then facilitate the
    replication of these files and folders to the other server (and vice
    versa).</p>
<p><img alt="" src="../images/33.png" /></p>
</li>
<li>
<p>To test file locking, create a new OpenDocument Text file within the
    root of your Nutanix Files share, e.g.,
    <code>\\BootcampFS\Initials-Peer</code>.</p>
<p><img alt="" src="../images/34.png" /></p>
</li>
<li>
<p>Name the file. Within a few seconds, it should appear under your
    Windows File Server share, e.g.,
    <code>\\PeerAgent-Win\Data\Initials-Data</code>.</p>
<p><img alt="" src="../images/35.png" /></p>
</li>
<li>
<p>Open the file under the Nutanix Files share with OpenOffice Writer.
    Next, open the file with the same name under
    <code>\\PeerAgent-Win\Data\Initials-Data</code>. You should see the following
    warning that the file is locked.</p>
<p><img alt="" src="../images/36.png" /></p>
<p><strong>Congratulations!</strong> You have successfully deployed an Active-Active
file share replicated across two file servers. Using Peer, this same
approach can be leveraged to support file collaboration across
sites, migrations from legacy solutions to Nutanix Files, or
disaster recovery for use cases such as VDI, where user data and
profiles need to be accessible from multiple sites for business
continuity.</p>
</li>
</ol>
<h2 id="working-with-nutanix-objects">Working with Nutanix Objects</h2>
<p>Peer Global File Service includes the ability to push data from NAS
devices into object storage. The same real-time replication technology
used to power the collaboration scenario above can also be used to
replicate data into Nutanix Objects with optional snapshot capabilities
for point-in-time recovery. All objects are replicated in a transparent
format that can be immediately used by other apps and services.</p>
<p>This lab section will walk you through the necessary steps to replicate
data from Nutanix Files into Nutanix Objects.</p>
<h3 id="getting-client-ip-and-credentials-for-nutanix-objects">Getting Client IP and Credentials for Nutanix Objects</h3>
<p>In order to replicate data into Objects, you need the Client IP of the
object store and need to generate access and secret keys. If you already
have this information from a prior lab, you can skip this section and
re-use that existing information.</p>
<ol>
<li>
<p>Log in to <strong>Prism Central</strong> (e.g., 10.XX.YY.39) on your Nutanix
    cluster, and then navigate to <strong>Services</strong> &gt; <strong>Objects</strong>.</p>
</li>
<li>
<p>In the <strong>Object Stores</strong> section, find the appropriate object store
    in the table and note the Client Used IPs.</p>
<p><img alt="" src="../images/clientip.png" /></p>
</li>
<li>
<p>Click on the <strong>Access Keys</strong> section and click <strong>Add People</strong> to
    begin the process for creating credentials.</p>
<p><img alt="" src="../images/buckets_add_people.png" /></p>
</li>
<li>
<p>Select <strong>Add people not in Active Directory</strong> and enter your e-mail
    address.</p>
<p><img alt="" src="../images/buckets_add_people2.png" /></p>
</li>
<li>
<p>Click <strong>Next</strong>.</p>
</li>
<li>
<p>Click <strong>Download Keys</strong> to download a .csv file containing the
    <strong>Access Key</strong> and <strong>Secret Key</strong>.</p>
<p><img alt="" src="../images/buckets_add_people3.png" /></p>
</li>
<li>
<p>Click <strong>Close</strong>.</p>
</li>
<li>
<p>Open the file with a text editor.</p>
<p><img alt="" src="../images/buckets_csv_file.png" /></p>
<p>::: note
::: title
Note
:::</p>
<p>Keep the text file open so that you have the access and secret keys
readily available for the sections below.
:::</p>
</li>
</ol>
<h3 id="creating-a-new-cloud-replication-job">Creating a New Cloud Replication Job</h3>
<p>In this section, we will focus on creating a <strong>Cloud Backup and
Replication</strong> job to replicate data from Nutanix Files into Nutanix
Objects.</p>
<ol>
<li>
<p>In the <strong>PMC Web Interface</strong>, click <strong>File &gt; New Job</strong>.</p>
<p><img alt="" src="../images/cloud1.png" /></p>
</li>
<li>
<p>Select <strong>Cloud Backup and Replication</strong> and click <strong>Create</strong>.</p>
</li>
<li>
<p>Enter <em>Initials</em> - <strong>Replication to Objects</strong> as the name for the
    job and click <strong>OK</strong>.</p>
<p><img alt="" src="../images/cloud2.png" /></p>
</li>
<li>
<p>Select <strong>Nutanix Files</strong> and click <strong>Next</strong>.</p>
<p><img alt="" src="../images/cloud3.png" /></p>
</li>
<li>
<p>Select the Agent named <strong>PeerAgent-Files</strong> and click <strong>Next</strong>. This
    Agent will manage the Files cluster.</p>
<p><img alt="" src="../images/cloud4.png" /></p>
</li>
<li>
<p>On the <strong>Storage Information</strong> page, you will see one of two pages.
    If another participant sharing your Files cluster has already done
    the Peer lab, you can select their <strong>Existing Credentials</strong> as shown
    here.</p>
<p><img alt="" src="../images/cloud5.png" /></p>
<p>If you are the first participant on this cluster to do the Peer lab,
fill out the following fields:</p>
<ul>
<li>
<p><strong>Nutanix Files Cluster Name</strong> - <strong>BootcampFS</strong></p>
<p><em>The NETBIOS name of the Files cluster that will be paired with
the Agent selected in the previous step.</em></p>
</li>
<li>
<p><strong>Username</strong> - peer</p>
<p><em>This is the Files API account username configured earlier in
the lab and MUST be in all lower case.</em></p>
</li>
<li>
<p><strong>Password</strong> - nutanix/4u</p>
<p><em>The password associated with the Files API account.</em></p>
</li>
<li>
<p><strong>Peer Agent IP</strong> - <strong>PeerAgent-Files</strong> IP Address</p>
<p><em>The IP address of the Agent server that will receive real-time
notifications from the File Activity Monitoring API built into
Files. It will be selectable from a dropdown list of available
IPs on this Agent server.</em></p>
</li>
</ul>
</li>
<li>
<p>Click <strong>Validate</strong> to confirm Files can be accessed via API using
    the provided credentials.</p>
<p><img alt="" src="../images/cloud6.png" /></p>
<p>::: note
::: title
Note
:::</p>
<p>Once you enter these credentials, they are reusable when creating
new jobs that use this particular Agent. When you create your next
job, select <strong>Existing Credentials</strong> on this page to display a list
of previously configured credentials.
:::</p>
</li>
<li>
<p>Click <strong>Next</strong>.</p>
</li>
<li>
<p>Select your <em>Initials</em><strong>-Peer</strong> share and click <strong>OK</strong>.</p>
<p><img alt="" src="../images/cloud7.png" /></p>
<p>::: note
::: title
Note
:::</p>
<p>Peer Global File Service supports the replication of data within
nested shares starting with Nutanix Files v3.5.1 and above.
:::</p>
<p>::: note
::: title
Note
:::</p>
<p>With <strong>Cloud Backup and Replication</strong>, you can select multiple
shares and/or folders for a single job.
:::</p>
</li>
<li>
<p>On the <strong>File Filters</strong> page, verify the <strong>Default</strong> filter selected
    as well as the <strong>Include Files Without Extensions</strong>, and click
    <strong>Next</strong>.</p>
<p><img alt="" src="../images/cloud8.png" /></p>
</li>
<li>
<p>On the <strong>Destination</strong> page, select <strong>Nutanix Objects</strong> and click
    <strong>Next</strong>.</p>
<p><img alt="" src="../images/cloud9.png" /></p>
</li>
<li>
<p>On the <strong>Nutanix Objects Credentials</strong> page, fill out the following
    fields:</p>
<ul>
<li>
<p><strong>Description</strong> -- Name your destination</p>
<p><em>This is a short name for the Objects credential configuration.</em></p>
</li>
<li>
<p><strong>Access Key</strong></p>
<p><em>The Access Key associated with the Objects account.</em></p>
</li>
<li>
<p><strong>Secret Key</strong></p>
<p><em>The Secret Key associated with the Objects account.</em></p>
</li>
<li>
<p><strong>Service Point</strong></p>
<p><em>The client access IP address or FDQN name of the object store.</em></p>
</li>
</ul>
<p><img alt="" src="../images/cloud10.png" /></p>
<p>::: note
::: title
Note
:::</p>
<p>Refer to the <a href="#getting-client-ip-and-credentials-for-nutanix-objects">Getting Client IP and Credentials for Nutanix
Objects</a>
section above for the appropriate access and secret keys, as well as
the Client IP of the object store.
:::</p>
</li>
<li>
<p>Click <strong>Validate</strong> to confirm Objects can be accessed using the
    provided configuration.</p>
<p><img alt="" src="../images/cloud11.png" /></p>
</li>
<li>
<p>Click <strong>OK</strong> in the <strong>Success</strong> window, and then click <strong>Next</strong>.</p>
</li>
<li>
<p>On the <strong>Bucket Details</strong> page, deselect the <strong>Automatically name</strong>
    checkbox, and then provide a unique bucket name of
    <em>initials</em>-<strong>peer-objects</strong>.</p>
<p><img alt="" src="../images/cloud12.png" /></p>
<p>::: note
::: title
Note
:::</p>
<p>The bucket name MUST be in all lower case.
:::</p>
</li>
<li>
<p>On the <strong>Replication and Retention Policy</strong> page, select <strong>Existing
    Policy</strong>, <strong>Continuous Data Protection</strong>, and then click <strong>Next</strong>.</p>
<p><img alt="" src="../images/cloud13.png" /></p>
</li>
<li>
<p>Click <strong>Next</strong> on the <strong>Miscellaneous Options</strong>, <strong>Email Alerts</strong>,
    and <strong>SNMP Alerts</strong> pages.</p>
</li>
<li>
<p>Review the configuration on the <strong>Confirmation</strong> screen, and then
    then click <strong>Finish</strong>.</p>
<p><img alt="" src="../images/cloud14.png" /></p>
</li>
</ol>
<h3 id="starting-a-cloud-replication-job">Starting a Cloud Replication Job</h3>
<p>Once a job has been created, it must be started to initiate replication.</p>
<ol>
<li>
<p>In the <strong>PMC Web Interface</strong>, right-click on your newly created job,
    and then select <strong>Start</strong>.</p>
<p><img alt="" src="../images/cloud15.png" /></p>
</li>
<li>
<p>Double-click the job in the <strong>Job</strong> pane to view its runtime
    information and statistics.</p>
<p><img alt="" src="../images/cloud16.png" /></p>
<p>::: note
::: title
Note
:::</p>
<p>Click <strong>Auto-Update</strong> to have the console regularly refresh as files
begin replicating.
:::</p>
</li>
</ol>
<h3 id="verifying-replication">Verifying Replication</h3>
<p>::: note
::: title
Note
:::</p>
<p>This exercise requires the <code>windows_tools_vm</code>{.interpreted-text
role="ref"}.
:::</p>
<p>The easiest way to verify that files have been replicated into Nutanix
Objects is to use the Cyberduck tool on your
<em>Initials</em><strong>-Windows-ToolsVM</strong></p>
<ol>
<li>
<p>Connect to your <em>Initials</em><strong>-Windows-ToolsVM</strong> via RDP using the
    following credentials:</p>
<ul>
<li><strong>Username</strong> - NTNXLAB\Administrator</li>
<li><strong>Password</strong> - nutanix/4u</li>
</ul>
</li>
<li>
<p>Launch <strong>Cyberduck</strong> (Click the Window icon &gt; Down Arrow &gt;
    Cyberduck).</p>
<p>If you are prompted to update Cyberduck, click <strong>Skip This
Version</strong>.</p>
</li>
<li>
<p>Click on <strong>Open Connection</strong>.</p>
<p><img alt="" src="../images/buckets_06.png" /></p>
</li>
<li>
<p>Select <strong>Amazon S3</strong> from the dropdown list.</p>
<p><img alt="" src="../images/buckets_07.png" /></p>
</li>
<li>
<p>Fill out the following fields for the user created earlier, and then
    click <strong>Connect</strong>:</p>
<ul>
<li><strong>Server</strong> - <em>Objects Client Used IP</em></li>
<li><strong>Port</strong> - 443</li>
<li><strong>Access Key ID</strong> - <em>Generated When User Created</em></li>
<li><strong>Password (Secret Key)</strong> - <em>Generated When User Created</em></li>
</ul>
<p>::: note
::: title
Note
:::</p>
<p>See the <a href="#getting-client-ip-and-credentials-for-nutanix-objects">Getting Client IP and Credentials for Nutanix
Objects</a>
section above for the appropriate access and secret keys, as well as
the Client IP of the object store.
:::</p>
<p><img alt="" src="../images/buckets_08.png" /></p>
</li>
<li>
<p>Check the <strong>Always Trust</strong> checkbox, and then click <strong>Continue</strong> in
    the <strong>The certificate is not valid</strong> dialog box.</p>
<p><img alt="" src="../images/invalid_certificate.png" /></p>
</li>
<li>
<p>Click <strong>Yes</strong> to continue installing the self-signed certificate.</p>
</li>
<li>
<p>Navigate to the appropriate bucket set above and verify that it
    contains content.</p>
<p><img alt="" src="../images/cloud19.png" /></p>
<p><strong>Congratulations!</strong> You have successfully setup replication between
Nutanix Files and Nutanix Objects! Using Peer, this same approach
can be leveraged to support scenarios including coexistence of file
data with object-based apps and services as well as point-in-time
recovery of enterprise NAS data backed by Objects.</p>
</li>
</ol>
<h2 id="analyzing-existing-environments">Analyzing Existing Environments</h2>
<p>::: note
::: title
Note
:::</p>
<p>This exercise requires the <code>windows_tools_vm</code>{.interpreted-text
role="ref"}.
:::</p>
<p>As the capacity of file server environments increase at a record pace,
storage admins often do not know how users and applications are
leveraging these file server environments. This fact becomes most
evident when it is time to migrate to a new storage platform. The File
System Analyzer is a tool from Peer Software that is designed to help
partners discover and analyze existing file and folder structures for
the purpose of planning and optimization.</p>
<p>The File System Analyzer performs a very fast scan of one or more
specified paths, uploads results to Amazon S3, assembles key pieces of
information into one or more Excel workbooks, and emails reports with
links to access the workbooks.</p>
<p>As this tool is primarily for our partners, we would love to hear any
feedback you have on it. Reach out to us on Slack via the
<strong>#_peer_software_ext</strong> channel with comments and suggestions.</p>
<h3 id="installing-and-running-the-file-system-analyzer">Installing and Running the File System Analyzer</h3>
<ol>
<li>
<p>Connect to your <em>Initials</em><strong>-Windows-ToolsVM</strong> via RDP using the
    following credentials:</p>
<ul>
<li><strong>Username</strong> - NTNXLAB\Administrator</li>
<li><strong>Password</strong> - nutanix/4u</li>
</ul>
</li>
<li>
<p>Within the VM, download the File System Analyzer installer:
    <a href="https://www.peersoftware.com/downloads/fsa/13/FileSystemAnalyzer_win64.exe">https://www.peersoftware.com/downloads/fsa/13/FileSystemAnalyzer_win64.exe</a></p>
</li>
<li>
<p>Run the installer and select <strong>Immediate Installation</strong>.</p>
<p><img alt="" src="../images/fsa1.png" /></p>
<p>Once the installation is complete, the File System Analyzer wizard
is automatically launched.</p>
</li>
<li>
<p>The <strong>Introduction</strong> screen provides details on information
    collected and reported by the utility. Click <strong>Next</strong>.</p>
<p><img alt="" src="../images/fsa2.png" /></p>
</li>
<li>
<p>The <strong>Contact Information</strong> screen collects information used to
    organize the output of the File System Analyzer and to send the
    final reports. Fill out the following fields:</p>
<ul>
<li><strong>Company</strong> -- Enter your company name.</li>
<li><strong>Location</strong> -- Enter the physical location of the server that
    is running the File System Analyzer. In multi-site environments,
    this could be a city or state name. A data center name also
    works.</li>
<li><strong>Project</strong> -- Enter a project name or business reason for
    running this analysis. This (and the Company and Location
    fields) are used solely to organize the final reports.</li>
<li><strong>Mode</strong> -- Select the mode of operation to be used -- <strong>General
    Analysis</strong> or <strong>Migration Preparation</strong>. <strong>Migration
    Preparation</strong> is useful when preparing for a migration project
    between storage systems. In addition to collecting standard
    telemetry on file systems, this mode also offers the option to
    test performance of both the existing and new storage systems to
    help gauge potential migration performance and timing. For this
    lab, we will use <strong>General Analysis</strong>.</li>
<li><strong>Name/Phone/Title</strong> -- <em>(Optional)</em> Enter your name and contact
    information.</li>
<li><strong>Email</strong> -- Enter the email address to which the final reports
    will be sent. For multiple addresses, enter a comma-separated
    list.</li>
<li><strong>Upload Region</strong> -- Select <strong>US</strong>, <strong>EU</strong>, or <strong>APAC</strong> to tell
    the File System Analyzer which S3 location to use for uploading
    the final reports.</li>
</ul>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>&lt;strong&gt;&lt;font color=&quot;red&quot;&gt;Be sure to enter your own details into the wizard page shown below. Otherwise, the final report will not be sent to you.&lt;/font&gt;&lt;/strong&gt;
</code></pre></div>
<img alt="" src="../images/fsa3.png" /></p>
</li>
<li>
<p>Click <strong>Next</strong>.</p>
<p>The File System Analyzer can be configured to scan one or more
paths. These paths can be local (e.g., <code>D:\MyData</code>) or a remote UNC
Path (e.g., <code>\\files01\homes1</code>).</p>
</li>
<li>
<p>Add the following paths:</p>
<ul>
<li><code>C:\</code> - The local C: drive of <em>Initials</em><strong>-Windows-ToolsVM</strong></li>
<li><code>\\BootcampFS\&lt;Your Share Name&gt;\</code> - A share previously created
    on Nutanix Files</li>
</ul>
<p><img alt="Click the **Search** button and enter the name of a file server if
you wish to discover the available shares on that file server. You
can also right-click within the dialog and select **Check All** to
automatically add all discovered shares." src="../images/fsa4.png" /></p>
<p><img alt="Selecting the **Log totals by owner** option will poke every file
and folder within the selected scan path(s) for its owner. This
owner information will be tallied by bytes, files, and folders and
included in the final report." src="../images/fsa4a.png" /></p>
</li>
<li>
<p>Click <strong>Next</strong>.</p>
<p>Click the <strong>Start</strong> button to begin scanning the entered paths. When
all scans, analyses, and uploads are complete, you will see a status
that is similar to the following:</p>
<p><img alt="" src="../images/fsa5.png" /></p>
</li>
<li>
<p>File System Analyzer will also email the report to all configured
    addresses. To view the full report, click the hyperlink(s) listed
    under <strong>Detailed Reports</strong> in the email. If multiple paths were
    scanned, you will also see a link to a cumulative report across all
    paths.</p>
<p><img alt="" src="../images/fsa6.png" /></p>
<p>::: note
::: title
Note
:::</p>
<p>Report download links are active for <strong>24 hours</strong> only. Contact Peer
Software to access any expired reports.
:::</p>
<p>Some systems may open these workbooks in a protected mode,
displaying this message in Excel:</p>
<p><img alt="" src="../images/fsa8.png" /></p>
<p>If you see this message at the top of Excel, click <strong>Enable
Editing</strong> to fully open the workbook. If you do not do this, the
pivot tables and charts will not load properly.</p>
</li>
</ol>
<h3 id="summary-reports">Summary Reports</h3>
<p>Summary reports contain overall statistical and historical information
across all paths that have been selected to be scanned. When you open a
summary report, you are greeted with a worksheet like this:</p>
<p><img alt="" src="../images/fsa7.png" /></p>
<p>Each summary report may contain some or all of the following worksheets:</p>
<ul>
<li><strong>InfoSheet</strong> -- Details about this specific run. This page will
    also show Total Bytes formatted in both decimal (1 KB is 1,000
    bytes) and binary (1 KiB is 1,024 bytes) forms.</li>
<li><strong>CollectiveResults</strong> -- A list of all paths scanned along with
    high-level statistics for each.</li>
<li><strong>History-Bytes</strong> -- Contains historical changes in bytes for each
    time each path is scanned.</li>
<li><strong>History-Files</strong> -- Contains historical changes in total number of
    files for each time each path is scanned.</li>
<li><strong>History-Folders</strong> -- Contains historical changes in total numbers
    of folders for each time each path is scanned.</li>
</ul>
<p>::: note
::: title
Note
:::</p>
<p>History worksheets will only appear after running multiple scans.
:::</p>
<h3 id="volume-reports">Volume Reports</h3>
<p>Volume reports give more detailed information about a specific path that
has been scanned. When you open a volume report, you are greeted with a
worksheet like this:</p>
<p><img alt="" src="../images/fsa7a.png" /></p>
<p>Each volume report may contain some or all of the following worksheets:</p>
<ul>
<li><strong>Overview</strong> -- A series of pivot tables and charts showing
    high-level statistics about the path that was scanned.</li>
<li><strong>InfoSheet</strong> -- Details about this specific scan. This page will
    also show Total Bytes formatted in both decimal (1 KB is 1,000
    bytes) and binary (1 KiB is 1,024 bytes) forms.</li>
<li><strong>OverallStats</strong> -- Overall statistics for the folder that was
    scanned. This includes total bytes, files, folders, etc.</li>
<li><strong>Analysis</strong> -- Includes a pivot table and a pair of charts
    highlighting additional statistics about the path that was scanned.</li>
<li><strong>History</strong> -- Shows statistics from each scan of this volume.</li>
<li><strong>HistoryCharts</strong> -- Contains charts showing historical changes in
    files, folders, and bytes for this volume.</li>
<li><strong>HighSubFolderCounts</strong> -- A list of all folders containing more
    than 100 child directories.</li>
<li><strong>HighByteCounts</strong> -- A list of all folders containing more than
    10GB of child file data.</li>
<li><strong>HighFileCounts</strong> -- A list of all folders containing more than
    10,000 child files.</li>
<li><strong>LargeFiles</strong> -- A list of all discovered files that are 10GB or
    larger.</li>
<li><strong>DeepPaths</strong> -- A list of all discovered folder paths that are 15
    levels deep or deeper.</li>
<li><strong>LongPaths</strong> -- A list of all discovered folder paths that are 256
    characters or longer.</li>
<li><strong>ReparsePointsSummary</strong> -- A summary of all reparse points
    discovered, regardless of file or folder.</li>
<li><strong>ReparsePoints</strong> -- A list of all folder reparse points discovered.</li>
<li><strong>TimeAnalysis</strong> -- A breakdown of total files, folders, and bytes
    by age.</li>
<li><strong>LastModifiedAnalysis</strong> -- A view of all files, folders, and bytes
    modified each hour for the past year. These numbers are then totaled
    and averaged to show files, folders, and bytes modified by: day of
    week; month; hour of the day; day of month; and day of year.</li>
<li><strong>CreatedAnalysis</strong> -- A view of all files, folders, and bytes
    created each hour for the past year. These numbers are then totaled
    and averaged to show files, folders, and bytes created by day of
    week, month, hour of the day, day of month, and day of year.</li>
<li><strong>LastAccessedAnalysis</strong> -- A view of all files, folders, and bytes
    accessed each hour for the past year. These numbers are then totaled
    and averaged to show files, folders, and bytes accessed by: day of
    week; month; hour of the day; day of month; and day of year.</li>
<li><strong>TLDAnalysis</strong> - A list of each folder immediately under a
    specified path with statistics for each of these subfolders. In a
    user home directory environment, each of these subfolders should
    represent a different user.</li>
<li><strong>TopTLDsByTotals</strong> -- A series of pivot tables and charts showing
    the top ten top-level directories based on total bytes used, total
    files, and total folders.</li>
<li><strong>TopTLDsByLastModBytes</strong> -- A pivot table and chart showing top 10
    top-level directories based on most bytes modified in the past year.</li>
<li><strong>TopTLDsByLastModFiles</strong> -- A pivot table and chart showing top 10
    top-level directories based on most files modified in the past year.</li>
<li><strong>LegacyTLDs</strong> -- A list of all top-level directories that do not
    contain any files modified in the past 365 days.</li>
<li><strong>TreeDepth</strong> -- A tally of bytes, folders, and files found at each
    depth level of the folder structure. For customers doing a
    pre-migration analysis, depths that appear as green are good
    candidates for PeerSync Migration's tree depth setting.</li>
<li><strong>FileExtInfo</strong> -- A list of all discovered extensions, including
    pivot tables sorted by total bytes and total files.</li>
<li><strong>FileAttributes</strong> -- A summary of all file and folder attributes
    found.</li>
<li><strong>SmallFileAnalysis</strong> -- A list of all files discovered below a
    certain size. This page is useful for estimating the storage impact
    of small files on storage platforms that have large minimum file
    sizes on disk.</li>
<li><strong>SIDCache</strong> -- A list of all the owners and SID strings that have
    been discovered.</li>
</ul>
<p>::: note
::: title
Note
:::</p>
<p>History worksheets will only appear after running multiple scans.
:::</p>
<p>Here is a sample of the <strong>LastModifiedAnalysis</strong> page mentioned above:</p>
<p><img alt="" src="../images/fsa7b.png" /></p>
<h2 id="integrating-with-microsoft-dfs-namespace">Integrating with Microsoft DFS Namespace</h2>
<p>Peer Global File Service includes the ability to create and manage
Microsoft DFS Namespaces (DFS-N). When this DFS-N integration is
combined with its real-time replication and file locking engine, PeerGFS
powers a true global namespace that spans locations and storage devices.</p>
<p>As part of its DFS namespace management capabilities, PeerGFS also
automatically redirects users away from a failed file server. When that
failed server comes back online, PeerGFS brings this file server back
in-sync, and then re-enables user access to it. <em>This is an essential
Disaster Recovery feature for any deployment looking to leverage Nutanix
Files for user profile and user data shares for VDI environments.</em></p>
<p>The following screenshot shows the PMC interface with a DFS Namespace
under management.</p>
<p><img alt="" src="../images/dfsn.png" /></p>
<h2 id="takeaways">Takeaways</h2>
<ul>
<li>Peer Global File Service is the only solution which can provide
    Active-Active replication for Nutanix Files clusters.</li>
<li>Peer also supports multiple legacy NAS platforms and supports
    replication within mixed environments. This helps ease adoption of
    and migration to Nutanix Files.</li>
<li>Peer can directly manage Microsoft Distributed File Services (DFS)
    namespaces, allowing multiple file servers to be presented through a
    single namespace. This is a key component for supporting true
    Active-Active DR solutions for file sharing.</li>
<li>Peer can replicate files from Nutanix Files and other NAS platforms
    into Nutanix Objects with optional snapshot capabilities for
    point-in-time recovery. All objects are in a transparent format that
    can be immediately used by other apps and services.</li>
<li>Peer offers tools for analyzing existing file servers to help with
    resource planning, optimization, and minimally disruptive
    migrations.</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2016 - 2022 Nutanix APAC Enablement Practice
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.footer", "navigation.top", "navigation.integrate", "search.highlight", "search.suggest", "toc.follow", "content.code.copy"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.8fd75fb4.min.js"></script>
      
    
  </body>
</html>